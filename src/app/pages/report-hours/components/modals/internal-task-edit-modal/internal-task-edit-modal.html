<div class="rh-internal-modal-overlay" (click)="onOverlayClick($event)">
  <div class="rh-internal-modal" style="max-width:580px;">
    <div class="modal-header">
      <h2 class="modal-title">ğŸ“ Edit Internal Task</h2>
      <button class="modal-close" (click)="cancel()">&times;</button>
    </div>

    <div class="modal-body">
      <form [formGroup]="form">
        <div class="form-group">
          <label>Category</label>
          <input type="text" class="form-input" [value]="displayCategory" disabled>
        </div>

        <div class="form-group">
          <label>Description</label>
          <textarea formControlName="description" rows="3" class="form-input"></textarea>
        </div>

        <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
          <div class="form-group">
            <label>Time Worked <span style="color:var(--danger);">*</span></label>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
              <div>
                <input type="number" formControlName="hours" min="0" class="form-input" style="text-align: center;">
                <small style="display: block; text-align: center; color: #666; margin-top: 2px;">Hours</small>
              </div>
              <div>
                <input type="number" formControlName="minutes" min="0" max="59" class="form-input" style="text-align: center;">
                <small style="display: block; text-align: center; color: #666; margin-top: 2px;">Minutes</small>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>Date <span style="color:var(--danger);">*</span></label>
            <input type="date" formControlName="logDate" class="form-input">
          </div>
        </div>
        
        <div *ngIf="log?.createdByEmployeeName" class="form-group">
          <label>Created By</label>
          <input type="text" class="form-input" [value]="log.createdByEmployeeName" disabled>
        </div>
      </form>
    </div>

    <div class="modal-footer">
      <ng-container *ngIf="canDelete">
        <app-icon-button title="Delete" (clicked)="deleteLog()">
          <app-archive-icon [size]="20"></app-archive-icon>
        </app-icon-button>
      </ng-container>
      <ng-container *ngIf="canEdit">
        <app-icon-button title="Save" (clicked)="saveChanges()">
          <app-file-check-icon [size]="20"></app-file-check-icon>
        </app-icon-button>
      </ng-container>
    </div>
  </div>
</div>
