<div class="report-calendar" [style.height.px]="calendarHeight">
	<div class="calendar-stats" *ngIf="showStats">
		<div class="calendar-stats-item project">
			<span class="calendar-stats-label">ğŸ’¼ Project Hours (Billable)</span>
			<span class="calendar-stats-value">{{ projectHours.toFixed(1) }}h</span>
			<span class="calendar-stats-sublabel">{{ projectCount }} tasks</span>
		</div>
		<div class="calendar-stats-item internal">
			<span class="calendar-stats-label">ğŸ“ Internal Hours (Non-billable)</span>
			<span class="calendar-stats-value">{{ internalHours.toFixed(1) }}h</span>
			<span class="calendar-stats-sublabel">{{ internalCount }} tasks</span>
		</div>
		<div class="calendar-stats-item total">
			<span class="calendar-stats-label">â±ï¸ Total Hours</span>
			<span class="calendar-stats-value">{{ totalHours.toFixed(1) }}h</span>
			<span class="calendar-stats-sublabel">{{ totalCount }} tasks</span>
		</div>
	</div>

	<full-calendar [options]="calendarOptions">
		<ng-template #eventContent let-arg>
			<ng-container *ngIf="eventTemplate; else defaultTpl">
				<ng-container *ngTemplateOutlet="eventTemplate; context: { $implicit: arg }"></ng-container>
			</ng-container>

			<ng-template #defaultTpl>
				<div class="fc-event-custom">
					<div class="fc-event-title">{{ arg.event.title }}</div>
					<div class="fc-event-meta">{{ arg.event.extendedProps?.userName }} â€” {{ arg.event.extendedProps?.hours }}h</div>
				</div>
			</ng-template>
		</ng-template>
	</full-calendar>
</div>
