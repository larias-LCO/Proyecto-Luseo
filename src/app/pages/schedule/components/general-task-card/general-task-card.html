<div class="gt-card" [class.gt-card--compact]="compact" [class.gt-card--expanded]="!compact" 
     [class.gt-card--completed]="isCompleted"
     [class.gt-card--out-of-office]="isOutOfOffice"
     [class.gt-card--commercial]="task.projectType === 'COMMERCIAL'"
     [class.gt-card--residential]="task.projectType === 'RESIDENTIAL'">
  
  <!-- Badge de tipo de proyecto -->
  <span *ngIf="projectTypeIcon && !isOutOfOffice" class="gt-card__project-badge" 
        [class.gt-card__project-badge--commercial]="task.projectType === 'COMMERCIAL'"
        [class.gt-card__project-badge--residential]="task.projectType === 'RESIDENTIAL'">
    {{ projectTypeIcon }}
  </span>

  <!-- Badge de Out of Office -->
  <span *ngIf="isOutOfOffice" class="gt-card__out-of-office-badge">
  </span>

  <div class="gt-card__body" [style.background]="categoryColor" [style.color]="textColor">
    <!-- Info del proyecto -->
    <div *ngIf="task.projectCode || task.projectName" class="gt-card__project">
      <span class="gt-card__project-icon">ğŸ“¦</span>
      <div class="gt-card__project-info">
        <div class="gt-card__project-name">
          {{ task.projectCode || 'No Project' }}
          <ng-container *ngIf="task.projectName"> - {{ task.projectName }}</ng-container>
        </div>
        <div *ngIf="!compact && task.projectPhaseName" class="gt-card__phase-name">
          {{ task.projectPhaseName }}
        </div>
      </div>
    </div>

    <!-- Contenido principal -->
    <div class="gt-card__content">
      <!-- Nombre de la tarea -->
      <div class="gt-card__task-name">
        <span class="gt-card__task-icon">ğŸ“</span>
        <div class="gt-card__task-title">{{ task.name || '' }}</div>
      </div>

      <!-- CategorÃ­a -->
      <div class="gt-card__category">
        <span>ğŸ“‚</span>
        <div>{{ task.taskCategoryName || '-' }}</div>
      </div>

      <!-- Project Manager -->
      <div *ngIf="pmName" class="gt-card__pm">
        ğŸ‘¤ PM: {{ pmName }}
      </div>

      <!-- Creator -->
      <div *ngIf="!compact && creatorName" class="gt-card__creator">
        âœï¸ {{ creatorName }}
      </div>

      <!-- Badges -->
      <div class="gt-card__badges">
        <span class="gt-card__badge gt-card__badge--status" 
              [style.background]="statusConfig.bg" 
              [style.color]="statusConfig.color"
              [style.borderColor]="statusConfig.color">
          {{ statusConfig.icon }} {{ statusConfig.text }}
        </span>
      </div>
    </div>
  </div>
</div>
