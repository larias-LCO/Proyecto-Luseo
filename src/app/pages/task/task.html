<app-header></app-header>
<app-submenu></app-submenu>
<!-- 
<div class="task-container">

  <section class="title-filters">

    <div class="header-with-button">
      <h1>Tasks</h1> -->



  <!-- Search -->
  <div
    class="filter-search">
<div class="task-container">
  <section class="title-filters">
    <div class="header-with-button">
      <h1>Tasks</h1>
    </div>
    <!-- Search -->
    <div class="filter-search">
      <label>Search</label>
      <input
        type="text"
        id="project-search"
        class="search-input"
        placeholder="ðŸ” Search tasks by project, code, client or task name..."
      />
    </div>
    <!-- Project, Category, Created by, Week, created by me-->
    <div class="filters-container">
      <div class="filter-group" style="min-width: 150px;">
        <label>Project</label>
        <select id="project-filter" class="project-select" style="width: 100%;">
          <option value="">All</option>
        </select>
      </div>
      <div class="filter-group" style="min-width: 150px;">
        <label>Category</label>
        <select id="category-filter" class="project-select" style="width: 100%;">
          <option value="">All</option>
        </select>
      </div>
      <div class="filter-group" style="min-width: 150px;">
        <label>Created by</label>
        <select id="creator-filter" class="project-select" style="width: 100%;">
          <option value="">All</option>
        </select>
      </div>
      <div class="filter-week" style="min-width: 150px;">
        <label>Week</label>
        <input
          type="week"
          id="week-filter"
          class="search-input"/>
      </div>

        <div class="filter-created-by-me">
          <input type="checkbox" id="created-by-me" (change)="onShowCreatedByMeChange($event)">
          <label for="created-by-me">Show created by me</label>
        </div>
    </div>
    <div class="filters-actions-row">


      <div class="filter-show" style="display: flex; align-items: center; gap: 8px;">
        <input type="checkbox" id="mine-only-filter" (change)="onFilterChange()" style="margin:0;" />
        <label for="mine-only-filter" style="margin:0;">Show only my assigned projects</label>
      </div>
      <div class="top-right-buttons">
        <button id="clear-all-filters" class="btn btn-secondary btn-sm">
          Clear All Filters
        </button>
        <button class="btn-open"
          data-tooltip="Task management and reporting for projects"
          (click)="showCreateTaskModal = true">
          Create New Task
        </button>
      </div>
    </div>
  </section>

  

  
  <section class="schedule">
    <section class="etiquetas">
    <!-- Calendar Legend will be rendered here -->
    <div id="calendar-legend-container"></div>
 
    <h2>ðŸ“Œ Schedule</h2>
    <app-create-task-card 
      *ngIf="showCreateTaskModal" 
      (close)="showCreateTaskModal = false">
    </app-create-task-card>
<app-edit-task
  *ngIf="tareaSeleccionada"
  [task]="tareaSeleccionada"
  [canEditTask]="canEditTask"
  [canDeleteTask]="canDeleteTask"
  [allProjects]="editTaskProjects"
  [categories]="editTaskCategories"
  [employees]="editTaskEmployees"
  (close)="tareaSeleccionada = null">
</app-edit-task>

    <div id="calendar-message" style="display:none;color:#e11d48;font-weight:600;margin:24px 0;text-align:center;"></div>
    <app-calendar-task #calendarTaskRef id="main-calendar" [tasks]="tasks"></app-calendar-task>
    <!-- Mine only -->
    <!-- <div class="by-me" ><label>Show created by me</label>
      <input type="checkbox" id="mine-only-filter"/>
    </div> -->
  </section>
   </section>



  <section class="schedule2">
    <h2>ðŸ“Œ Schedule Prev</h2>
    <!--aqui va la etiqueta de el calendario week prev-->
    <app-calendar-week-prev #calendarWeekPrevRef [tasks]="tasks">


    </app-calendar-week-prev>
  </section>
</div>
    <!-- *ngIf="showCreateTaskModal"  -->
