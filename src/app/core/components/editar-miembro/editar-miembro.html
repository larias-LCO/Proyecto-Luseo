<div class="editar-miembro-modal">
  <div class="modal-backdrop" (click)="cerrarModal()"></div>

  <div class="modal-container">
    <div class="modal-content" (click)="$event.stopPropagation()">

      <h2 class="modal-title">Editar Miembro</h2>

      <form [formGroup]="form" (ngSubmit)="guardarCambios()" class="form-grid">

        <!-- Columna izquierda / derecha (placeholders) -->
        <input
          type="text"
          formControlName="nombre"
          placeholder="Nombre"
          class="form-input"
          autocomplete="off"
        />

        <select formControlName="departamento" class="form-input">
          <option value="">Departamento</option>
          <option *ngFor="let d of catalogs.departments" [value]="d.name">{{ d.name }}</option>
        </select>

        <select formControlName="oficina" class="form-input">
          <option value="">Oficina</option>
          <option *ngFor="let o of catalogs.offices" [value]="o.name">{{ o.name }}</option>
        </select>

        <select formControlName="posicion" class="form-input">
          <option value="">Posición</option>
          <option *ngFor="let j of catalogs.jobs" [value]="j.name">{{ j.name }}</option>
        </select>

        <select formControlName="rol" class="form-input">
          <option value="">Rol</option>
          <!-- Si el padre pasó allowedRoles ya filtrados, solo los mostramos; por seguridad, si ADMIN aparece OWNER lo deshabilitamos -->
          <option *ngFor="let r of allowedRoles" [value]="r" [disabled]="(r === 'OWNER') && isAdmin()">{{ r }}</option>
        </select>

        <input
          type="number"
          formControlName="tarifa"
          placeholder="Tarifa facturable"
          class="form-input"
          min="0"
        />

        <!-- Estado ocupa toda la fila -->
        <select formControlName="estado" class="form-input full-width">
          <option value="">Estado</option>
          <option value="ACTIVE">Activo</option>
          <option value="INACTIVE">Inactivo</option>
        </select>

        <!-- Botones: full-width para alinear a la derecha -->
        <div class="modal-buttons full-width">
          <button type="button" class="btn-cancelar" (click)="cerrarModal()">Cancelar</button>
          <button type="submit" class="btn-guardar">Guardar cambios</button>
        </div>

      </form>
    </div>
  </div>
</div>
